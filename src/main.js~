import { createApp } from "vue";
import App from "./App.vue";
import router from "./router";
import store from "./store";

import axios from "axios";
import axiosSetup from "./refresh_api.js";

// a function to handle all Authorization headers related actions
axiosSetup()

axios.defaults.baseURL = "http://localhost:8000"

function filter(text, length, clamp){
	clamp = clamp || "...";
	let node = document.createElement('div');
	node.innerHTML = text;
	let content = node.textContent;

	return content.length > length ? content.slice(0, length) + clamp : content;
};

const vue = createApp({})
vue.filter('truncate', filter);

createApp(App).use(store).use(router).mount("#app");
